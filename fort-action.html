<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../fort-behavior/fort-text-content-behavior.html">
<link rel="import" href="../fort-icon/fort-icon.html">
<link rel="import" href="../paper-ripple/paper-ripple.html">

<!--
An element providing a solution to no problem in particular.

Example:

    <fort-action icon="iron:icons:star"></fort-action>

@demo demo/index.html
-->

<dom-module id="fort-action" attributes="icon src size same-font">
  <template strip-whitespace>
    <style>
      :host {
        position: relative;
        background: transparent;
        -webkit-tap-highlight-color: transparent;
        outline: none;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;
        cursor: pointer;
        z-index: 0;
        box-sizing: content-box;
        display: inline-flex;
        align-items: center;
        font-size: calc(var(--fort-icon-size, 24px) * 0.6);

        padding: 5px;
        @apply --fort-action-style;
      }

      :host([same-font]){
        font-size: var(--fort-icon-size, 24px);
      }

      :host:hover {
        @apply --fort-action-hover-style;
      }

      paper-ripple {
        color: var(--paper-button-ink-color);
      }
    </style>

    <template strip-whitespace is="dom-if" if="[[_showIcon(icon,src)]]">
      <fort-icon icon="[[icon]]" src="[[src]]" size="[[size]]"></fort-icon>
    </template>
    <slot></slot>
    <paper-ripple center class="circle"></paper-ripple>
  </template>
  <script>
    Polymer(
      {
        is:            'fort-action',
        properties:    {
          icon: {type: String, notify: true, reflectToAttribute: true},
          src:  {type: String, notify: true, reflectToAttribute: true},
          size: {
            type:     Number,
            notify:   true,
            observer: '_styleChanged'
          }
        },
        _showIcon:     function (icon, src)
                       {
                         return icon || src;
                       },
        _styleChanged: function ()
                       {
                         if(this.size)
                         {
                           this.updateStyles({'--fort-icon-size': this.size + 'px'})
                         }
                       }
      }
    );
  </script>
</dom-module>
