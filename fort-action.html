<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../fort-behavior/fort-text-content-behavior.html">
<link rel="import" href="../fort-icon/fort-icon.html">
<link rel="import" href="../paper-ripple/paper-ripple.html">
<link rel="import" href="../paper-material/paper-material-shared-styles.html">

<!--
An element providing a solution to no problem in particular.

Example:

    <fort-action>iron:icons:star</fort-action>

@demo demo/index.html
-->

<dom-module id="fort-action" attributes="icon src size elevation">
  <template strip-whitespace>
    <style include="paper-material-shared-styles"></style>
    <style>
      :host {
        position: relative;
        box-sizing: border-box;
        background: transparent;
        -webkit-tap-highlight-color: transparent;
        outline: none;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;
        cursor: pointer;
        z-index: 0;
        padding: 8px;
        display: inline-flex;
        font-size: var(--fort-icon-size);

        @apply --fort-action-style;
      }

      :host:hover {
        @apply --fort-action-hover-style;
      }

      paper-ripple {
        color: var(--paper-button-ink-color);
      }
    </style>

    <template strip-whitespace is="dom-if" if="[[icon]]">
      <fort-icon size="[[size]]" icon="[[icon]]"></fort-icon>
    </template>
    <template strip-whitespace is="dom-if" if="[[src]]">
      <fort-icon size="[[size]]" src="[[src]]"></fort-icon>
    </template>
    <slot></slot>
    <paper-ripple center class="circle"></paper-ripple>
  </template>
  <script>
    Polymer(
      {
        is:           'fort-action',
        properties:   {
          icon: {type: String, value: ''},
          src:  {type: String, value: ''},
          size: {
            type:     Number,
            value:    24,
            observer: '_sizeChanged'
          }
        },
        _sizeChanged: function ()
                      {
                        // remove any non-numeric characters, ready to append px for styles
                        var defaultSize = 24;
                        this.size = (this.size || defaultSize) || defaultSize;
                        this.updateStyles({'--fort-icon-size': this.size + 'px'});
                      }
      }
    );
  </script>
</dom-module>
